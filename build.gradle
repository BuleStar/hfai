/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'java'
    id 'idea'
    id 'application'
    id 'org.springframework.boot' version '3.4.0'
    id "io.freefair.lombok" version "6.6.1"
}

idea {
    module {
        downloadJavadoc = false
        downloadSources = false
    }
}
test {
    enabled(true)
}
repositories {
    maven { url 'https://maven.aliyun.com/repository/public' }
    mavenCentral()
}


dependencies {
    implementation(
            'org.springframework.boot:spring-boot-starter-data-redis-reactive:3.4.0',
            'org.springframework.boot:spring-boot-starter-webflux:3.4.0',
            'org.springframework.boot:spring-boot-starter-validation:3.3.5',
            'com.alibaba:druid-spring-boot-starter:1.2.24',
            'com.baomidou:mybatis-plus-spring-boot3-starter:3.5.9',
            'com.baomidou:mybatis-plus-generator:3.5.9',
            'org.apache.velocity:velocity-engine-core:2.3',
            'com.alibaba:fastjson:1.2.83',
            'cn.hutool:hutool-all:5.8.21',
            'org.apache.commons:commons-lang3',
            'dev.langchain4j:langchain4j-spring-boot-starter:0.35.0',
            'dev.langchain4j:langchain4j-open-ai-spring-boot-starter:0.35.0',
            'dev.langchain4j:langchain4j-reactor:0.35.0',
            'io.github.binance:binance-connector-java:3.4.0',
            'io.github.binance:binance-futures-connector-java:3.0.5',
            'org.telegram:telegrambots:6.9.7.1',
            'org.apache.commons:commons-math3:3.6.1',
            'org.ta4j:ta4j-core:0.17',
            'org.ta4j:ta4j-examples:0.17',
            'org.springframework.boot:spring-boot-starter-mail:3.4.0',
            'com.google.code.gson:gson:2.11.0'
    )
    runtimeOnly(
            'org.springframework.boot:spring-boot-devtools:3.4.0',
            'com.mysql:mysql-connector-j:9.1.0'
    )
    testImplementation(
            'org.springframework.boot:spring-boot-starter-test:3.4.0',
            'io.projectreactor:reactor-test:3.7.0'
    )
}

group = 'com.hf.webflux'
version = '0.0.1-SNAPSHOT'
description = 'hfai'
java.sourceCompatibility = JavaVersion.VERSION_17

// 配置 bootBuildImage 任务
bootBuildImage {
    imageName = "hfai:latest"
    publish = false          // 禁止推送到远程仓库
    environment = [
            "JAVA_TOOL_OPTIONS": "-Xmx2048m",
            "BP_LAUNCH_CACHE": "false",
            "BP_DISABLE_CACHING": "true"
    ]
}
